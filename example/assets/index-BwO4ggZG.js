(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();function p(d,{onstart:t=e=>!0,onmove:r=(e,i,s)=>!0,onend:n=e=>!0}){let e=0,i=0,s=0,u=0,a=o=>{o.preventDefault(),s=o.clientX-e,u=o.clientY-i,e=o.clientX,i=o.clientY,r(o,s,u)},c=o=>{e=o.clientX,i=o.clientY,t(o)&&(document.addEventListener("pointermove",a),document.addEventListener("pointerup",h=>{n(h),document.removeEventListener("pointermove",a)},{once:!0,capture:!0}))};return d.addEventListener("pointerdown",c),()=>{d.removeEventListener("pointerdown",c),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",n)}}class l extends HTMLElement{static styleSheet=(()=>{const t=new CSSStyleSheet;return t.replaceSync(`
			:host {
				display: block;
				background-color: transparent;
				user-select: none;
				flex: 0 0 5px;
			}
			:host([direction="row"]){
				width: 5px;
				height: 100%;
				cursor: ew-resize;
			}
			:host([direction="column"]){
				width: 100%;
				height: 5px;
				cursor: ns-resize;
			}
		`),t})();constructor(){super();const t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[l.styleSheet],this.direction=0,this.sibling_data=[],this.index_in_siblings=0,this.property_to_update="flex-basis",p(this,{onstart:this.onDragStart.bind(this),onmove:this.onDrag.bind(this),onend:()=>{this.removeAttribute("active"),document.body.style.cursor="default"}})}onDragStart(t){return this.setDirection(),this.property_to_update=this.getUpdateProperty(),this.freezeSiblingSize(!0),this.setAttribute("active",""),document.body.style.cursor=this.direction?"ew-resize":"ns-resize",window.getSelection()?.removeAllRanges(),!0}onDrag(t,r,n){this.rafId||(this.rafId=requestAnimationFrame(()=>{let e=this.direction?r:n,i=this.getPreviousTarget(e),s=this.getNextTarget(-e);if(i&&i.element&&i.size+e<i.min||s&&s.element&&s.size-e<s.min){this.rafId=null;return}i?.element&&(i.element.style[this.property_to_update]=`${parseInt(i.size+=e)}px`),s?.element&&(s.element.style[this.property_to_update]=`${parseInt(s.size-=e)}px`),this.rafId=null}))}probeSiblings(){let t=this.parentElement,r=0;if(!t)return;let n=new Array(t.children.length);for(let e of t.children){if(e===this)this.index_in_siblings=r;else if(e instanceof l)continue;let i=e.getBoundingClientRect(),s=getComputedStyle(e);n[r++]={element:e,size:this.direction?i.width:i.height,min:(this.direction?parseFloat(s.minWidth):parseFloat(s.minHeight))||0}}return n.length=r,this.sibling_data=n}getPreviousTarget(t=0){for(let r=this.index_in_siblings-1;r>=0;r--){let n=this.sibling_data[r];if(Math.floor(n.size+t)>n.min)return n}return this.sibling_data[this.index_in_siblings-1]}getNextTarget(t=0){for(let r=this.index_in_siblings+1;r<this.sibling_data.length;r++){let n=this.sibling_data[r];if(Math.floor(n.size+t)>n.min)return n}return this.sibling_data[this.index_in_siblings+1]}getUpdateProperty(){let t=this.getAttribute("updates");if(t)switch(t){case"width":case"height":return this.direction?"width":"height";case"flex-basis":return"flex-basis";default:return console.warn(`SizeModifier: Unsupported update property "${t}". Defaulting to "width".`),"width"}}setDirection(){const t=this.parentElement;if(!t)return;const r=getComputedStyle(t);r.display.includes("flex")?this.direction=r.flexDirection==="column"?0:1:r.display.includes("grid")?this.direction=r.gridAutoFlow.includes("column")?1:0:this.direction=this.getAttribute("direction")==="column"?0:1,this.setAttribute("direction",this.direction?"row":"column")}freezeSiblingSize(t=!1){t&&this.probeSiblings(),requestAnimationFrame(()=>{for(const r of this.sibling_data)r.element&&(r.element.style[this.property_to_update]=`${parseInt(r.size)}px`)})}connectedCallback(){this.setAttribute("draggable","false"),this.hasAttribute("updates")||this.setAttribute("updates","width"),requestAnimationFrame(()=>{this.setDirection()})}}customElements.define("size-modifier",l);
